import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.RH_Wq4ov.js";import{m as n}from"./proxy.CtWKIOJ4.js";import{C as f,L as g}from"./lock.CKM9AT-q.js";import{M as j}from"./mail._kjwFHRK.js";import{A as v}from"./arrow-right.1S_H47eA.js";import"./createLucideIcon.CFjhCtiB.js";const w=()=>e.jsxs("div",{className:"absolute -z-10 inset-0 overflow-hidden opacity-70 pointer-events-none",children:[e.jsx("div",{className:"absolute top-[20%] -left-[10%] w-[40%] h-[40%] rounded-full bg-gradient-to-br from-[#D94F4F]/20 to-transparent blur-3xl"}),e.jsx("div",{className:"absolute top-[60%] -right-[10%] w-[30%] h-[30%] rounded-full bg-gradient-to-br from-[#6B8E23]/20 to-transparent blur-3xl"})]}),y=()=>e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"});function L(){const[l,p]=i.useState(""),[c,h]=i.useState(""),[r,d]=i.useState(!1),[m,u]=i.useState(null),[t,b]=i.useState(!1),x=async s=>{s.preventDefault(),d(!0),u(null);try{const o=await fetch("https://booking-service.mangoflower-5e37f0a4.eastus.azurecontainerapps.io/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:c})}),a=await o.json();if(console.log("que dio"+a),!o.ok)throw new Error(a.message||"Error al iniciar sesión");const N=a.access_token;a.user&&console.log("Usuario guardado:",a.user),b(!0),setTimeout(()=>{console.log("Redirigiendo a la página principal...")},1500)}catch(o){u(o.message||"Ocurrió un error durante el inicio de sesión")}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] flex items-center justify-center px-4 pt-16",children:[e.jsx(w,{}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md bg-white rounded-xl border border-[#e0dfdf] overflow-hidden my-8",children:[e.jsxs("div",{className:"px-8 pt-8 pb-6 border-b border-[#E5E5E5]",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#333333] mb-2",children:"Inicia sesión"}),e.jsx("p",{className:"text-[#666666]",children:"Ingresa tus credenciales para acceder a tu cuenta"})]}),e.jsxs("div",{className:"p-8",children:[m&&e.jsxs(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-[#D94F4F]/10 border border-[#D94F4F]/20 rounded-lg flex items-center gap-3 text-[#D94F4F]",children:[e.jsx(f,{size:18}),e.jsx("p",{children:m})]}),t&&e.jsx(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-[#6B8E23]/10 border border-[#6B8E23]/20 rounded-lg flex items-center gap-3 text-[#6B8E23]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("p",{children:"¡Sesión iniciada correctamente! Redirigiendo..."})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[#333333]",children:"Correo electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-[#666666]",children:e.jsx(j,{size:18})}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l,onChange:s=>p(s.target.value),placeholder:"correo@ejemplo.com",className:"block w-full pl-10 pr-3 py-3 border border-[#E5E5E5] rounded-lg focus:ring-2 focus:ring-[#6B8E23] focus:border-[#6B8E23] outline-none text-[#333333] placeholder:text-[#999999]",disabled:r||t})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#333333]",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-[#666666]",children:e.jsx(g,{size:18})}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:c,onChange:s=>h(s.target.value),placeholder:"••••••••",className:"block w-full pl-10 pr-3 py-3 border border-[#E5E5E5] rounded-lg focus:ring-2 focus:ring-[#6B8E23] focus:border-[#6B8E23] outline-none text-[#333333]",disabled:r||t,onKeyDown:s=>{s.key==="Enter"&&x(s)}})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-[#6B8E23] focus:ring-[#6B8E23] border-[#E5E5E5] rounded",disabled:r||t}),e.jsx("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-[#666666]",children:"Recordarme"})]})}),e.jsx("button",{type:"button",onClick:x,disabled:r||t,className:`w-full flex items-center justify-center gap-2 py-3 px-4 rounded-lg transition-all duration-300 ${r||t?"bg-[#D94F4F]/70 text-white cursor-not-allowed":"bg-[#D94F4F] text-white hover:bg-[#c04545] shadow-md hover:shadow-lg"}`,children:r?e.jsx(y,{}):t?"Sesión iniciada":e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Iniciar sesión"}),e.jsx(v,{size:18})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-[#666666]",children:["¿No tienes una cuenta?"," ",e.jsx("a",{href:"/signup",className:"font-medium text-[#6B8E23] hover:text-[#566f1c] transition-colors",children:"Regístrate aquí"})]})})]})]})]})}export{L as default};
